import{e as f,A as Z,s as k,w as q,a as A,u as F,f as G,h as V,i as z,t as B,B as J,l,r as K,v as u,b as h,x as Q,y as ee,k as te,D as re}from"./web-V5pwFSD5.js";import{n as P,p as oe}from"./all_posts.compile-uYno7xFZ.js";import{h as se}from"./routing-BMGDGDqe.js";import{A as ne}from"./components-Dc_S2E9h.js";function le(e,t={}){const[o,s]=f();return!t.lazy&&O(e,s),a=>{let n,r;const[,i]=Z(a,["fallback"]);if(t.lazy&&O(e,s),(n=o())&&!k.context)return n(i);const[g,p]=f(!k.context);return q(()=>p(!0)),A(()=>(n=o(),r=g(),F(()=>n&&r?n(i):a.fallback)))}}function O(e,t){e().then(o=>t(()=>o.default))}class ie extends Error{constructor(t){super(t)}}function ae(){const e=ce(window._hooks.getColorScheme()),t=()=>{const{fromOverride:r,active:i}=window._hooks.getColorScheme();return r?i:void 0},[o,s]=f(t()),a=window._hooks.onColorSchemeChanged(()=>s(t()));G(a);const n=window._hooks.setColorSchemeOverride;return{getOverride:o,set:n,rotate:()=>{const r=e.indexOf(t()),i=e[(r+1)%e.length];n(i)}}}function ce(e){return e.override==="dark"||e.override===void 0&&e.browserPreference==="light"?["dark","light",void 0]:[void 0,"light","dark"]}const de="_postBody_1hrkg_1",ge={postBody:de};var ue=B('<div class="min-h-screen flex justify-center py-8 px-4 text-text-primary overflow-x-clip"><div class="max-w-xl w-full"><header class="sticky top-5 not-sm:text-xs flex justify-between items-center pb-4 border-b border-border-color mb-8 z-1"><div></div><div class=text-text-secondary></div><div class="flex gap-2 text-text-secondary"></div><div class=text-text-secondary></div></header><h1 class="text-4xl md:text-5xl mb-8 text-text-primary"><div><span></span></div></h1><div></div><div><!$><!/><!$><!/>more:<!$><!/><!$><!/>'),pe=B('<button class=hover:cursor-pointer>colours: <span class="inline-block w-10">');function Ae(e){const t=se(),o=A(()=>t.pathname.substring(7));return(()=>{var s=z(ue),a=s.firstChild,n=a.firstChild,r=n.firstChild,i=r.nextSibling,g=i.nextSibling,p=g.nextSibling,$=n.nextSibling,M=$.firstChild,x=M.firstChild,y=$.nextSibling,c=y.nextSibling,I=c.firstChild,[_,R]=u(I.nextSibling),X=_.nextSibling,[w,H]=u(X.nextSibling),N=w.nextSibling,Y=N.nextSibling,[C,D]=u(Y.nextSibling),T=C.nextSibling,[U,W]=u(T.nextSibling);return r.style.setProperty("position","absolute"),r.style.setProperty("background-color","rgb(var(--background-rgb))"),r.style.setProperty("transition","var(--bg-transition)"),r.style.setProperty("height","100%"),r.style.setProperty("width","100%"),r.style.setProperty("transform","scaleY(10) scaleX(5)"),r.style.setProperty("transform-origin","center bottom"),r.style.setProperty("top","0"),r.style.setProperty("z-index","-1"),r.style.setProperty("opacity","0.975"),l(i,h(ne,{href:"/",style:{"view-transition-name":"logo"},children:"james karlsson"})),l(g,h(xe,{})),l(p,()=>e.postConfig.date),l(x,()=>e.postConfig.title),l(y,()=>e.children),c.style.setProperty("display","none"),l(c,o,_,R),l(c,()=>P.size,w,H),l(c,()=>oe.get(o()),C,D),l(c,()=>P.get(o()),U,W),Q(d=>{var m=`title-${o()}`,S=`text-lg flex flex-col gap-4 mb-20 ${ge.postBody}`;return m!==d.e&&((d.e=m)!=null?x.style.setProperty("view-transition-name",m):x.style.removeProperty("view-transition-name")),S!==d.t&&ee(y,d.t=S),d},{e:void 0,t:void 0}),s})()}const xe=le(()=>Promise.resolve({default:()=>{const e=ae();return(()=>{var t=z(pe),o=t.firstChild,s=o.nextSibling;return J(t,"click",e?.rotate,!0),l(s,()=>ye(e?.getOverride())),K(),t})()}}));function ye(e){switch(e){case"dark":return"dark";case"light":return"light";case void 0:return"auto";default:throw new ie(e)}}V(["click"]);var me=e=>{let t=e.charAt(0);return t!==t.toLowerCase()},ve=/e(r[HRWrv]|[Vawy])|Con|l(e[Tcs]|c)|s(eP|y)|a(t[rt]|u|v)|Of|Ex|f[XYa]|gt|hR|d[Pg]|t[TXYd]|[UZq]/,j=Object.create(null),fe=/[A-Z]/g,he=e=>j[e]??(j[e]=ve.test(e)?e:e.replaceAll(fe,t=>`-${t.toLowerCase()}`)),be=/^(t(ext$|s)|s[vwy]|g)|^set|tad|ker|p(at|s)|s(to|c$|ca|k)|r(ec|cl)|ew|us|f($|e|s)|cu|n[ei]|l[ty]|[GOP]/,v=Object.create(null),$e=e=>e in v?v[e]??!1:v[e]=be.test(e)&&!e.includes("-"),_e=new Set(["mjx"]),we=new RegExp(`(?:${[..._e].join("|")})-.+`,"g"),E=Object.create(null),L=e=>typeof e=="string"?E[e]??(E[e]=e.replaceAll(we,t=>t.replaceAll("-","_"))):e,b=(e,t)=>{let o={};for(let s of Object.keys(e))o[ke(s,t)]=typeof e[s]=="object"&&!Array.isArray(e[s])?b(e[s],t):L(e[s]);return o},Ce=e=>e.children,Se=(e,t)=>typeof e=="function"?e.name==="Fragment"?Ce(t):e(b(t)):h(re,te(me(e)?t:b(t,e),{component:L(e)})),ke=(e,t="")=>$e(t)?e=e==="xlinkHref"||e==="xlink:href"?"href":he(e):e,ze=Se;export{ze as M,Ae as P,le as c,Se as d,Ce as h};
