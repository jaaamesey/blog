import{e as h,A as G,s as O,v as V,a as B,u as J,f as K,h as Q,i as L,t as M,B as ee,l,r as te,w as u,b as m,x as re,y as oe,k as ne,D as se}from"./web-DYO1r_n-.js";import{n as j,p as le}from"./all_posts.compile-uYno7xFZ.js";import{T as ie}from"./index-CxeZ2ADl.js";import{h as ae}from"./routing-CouTEQdE.js";import{A as ce}from"./components-Dezfg5Cr.js";function de(e,t={}){const[r,o]=h();return!t.lazy&&E(e,o),c=>{let s,i;const[,a]=G(c,["fallback"]);if(t.lazy&&E(e,o),(s=r())&&!O.context)return s(a);const[x,n]=h(!O.context);return V(()=>n(!0)),B(()=>(s=r(),i=x(),J(()=>s&&i?s(a):c.fallback)))}}function E(e,t){e().then(r=>t(()=>r.default))}class ge extends Error{constructor(t){super(t)}}function ue(){const e=xe(window._hooks.getColorScheme()),t=()=>{const{fromOverride:i,active:a}=window._hooks.getColorScheme();return i?a:void 0},[r,o]=h(t()),c=window._hooks.onColorSchemeChanged(()=>o(t()));K(c);const s=window._hooks.setColorSchemeOverride;return{getOverride:r,set:s,rotate:()=>{const i=e.indexOf(t()),a=e[(i+1)%e.length];s(a)}}}function xe(e){return e.override==="dark"||e.override===void 0&&e.browserPreference==="light"?["dark","light",void 0]:[void 0,"light","dark"]}const me="_postBody_1hrkg_1",pe={postBody:me};var fe=M('<div class="min-h-screen flex justify-center py-8 px-4 text-text-primary overflow-x-clip"><!$><!/><div class="max-w-xl w-full"><header class="sticky top-5 not-sm:text-xs flex justify-between items-center pb-4 border-b border-border-color mb-8 z-1"><div></div><div class=text-text-secondary></div><div class="flex gap-2 text-text-secondary"></div><div class=text-text-secondary></div></header><h1 class="text-4xl md:text-5xl mb-8 text-text-primary"><div><span></span></div></h1><div></div><div><!$><!/><!$><!/>more:<!$><!/><!$><!/>'),ye=M('<button class=hover:cursor-pointer>colours: <span class="inline-block w-10">');function Ie(e){const t=ae(),r=B(()=>t.pathname.substring(7));return(()=>{var o=L(fe),c=o.firstChild,[s,i]=u(c.nextSibling),a=s.nextSibling,x=a.firstChild,n=x.firstChild,$=n.nextSibling,_=$.nextSibling,R=_.nextSibling,S=x.nextSibling,T=S.firstChild,p=T.firstChild,f=S.nextSibling,d=f.nextSibling,X=d.firstChild,[w,H]=u(X.nextSibling),N=w.nextSibling,[C,Y]=u(N.nextSibling),D=C.nextSibling,U=D.nextSibling,[k,W]=u(U.nextSibling),Z=k.nextSibling,[q,F]=u(Z.nextSibling);return l(o,m(ie,{get children(){return e.postConfig.title}}),s,i),n.style.setProperty("position","absolute"),n.style.setProperty("background-color","rgb(var(--background-rgb))"),n.style.setProperty("transition","var(--bg-transition)"),n.style.setProperty("height","100%"),n.style.setProperty("width","100%"),n.style.setProperty("transform","scaleY(10) scaleX(5)"),n.style.setProperty("transform-origin","center bottom"),n.style.setProperty("top","0"),n.style.setProperty("z-index","-1"),n.style.setProperty("opacity","0.975"),l($,m(ce,{preload:!0,href:"/",style:{"view-transition-name":"logo"},children:"james karlsson"})),l(_,m(ve,{})),l(R,()=>e.postConfig.date),l(p,()=>e.postConfig.title),l(f,()=>e.children),d.style.setProperty("display","none"),l(d,r,w,H),l(d,()=>j.size,C,Y),l(d,()=>le.get(r()),k,W),l(d,()=>j.get(r()),q,F),re(g=>{var y=`title-${r()}`,P=`text-lg flex flex-col gap-4 mb-20 ${pe.postBody}`;return y!==g.e&&((g.e=y)!=null?p.style.setProperty("view-transition-name",y):p.style.removeProperty("view-transition-name")),P!==g.t&&oe(f,g.t=P),g},{e:void 0,t:void 0}),o})()}const ve=de(()=>Promise.resolve({default:()=>{const e=ue();return(()=>{var t=L(ye),r=t.firstChild,o=r.nextSibling;return ee(t,"click",e?.rotate,!0),l(o,()=>he(e?.getOverride())),te(),t})()}}));function he(e){switch(e){case"dark":return"dark";case"light":return"light";case void 0:return"auto";default:throw new ge(e)}}Q(["click"]);var be=e=>{let t=e.charAt(0);return t!==t.toLowerCase()},$e=/e(r[HRWrv]|[Vawy])|Con|l(e[Tcs]|c)|s(eP|y)|a(t[rt]|u|v)|Of|Ex|f[XYa]|gt|hR|d[Pg]|t[TXYd]|[UZq]/,A=Object.create(null),_e=/[A-Z]/g,Se=e=>A[e]??(A[e]=$e.test(e)?e:e.replaceAll(_e,t=>`-${t.toLowerCase()}`)),we=/^(t(ext$|s)|s[vwy]|g)|^set|tad|ker|p(at|s)|s(to|c$|ca|k)|r(ec|cl)|ew|us|f($|e|s)|cu|n[ei]|l[ty]|[GOP]/,v=Object.create(null),Ce=e=>e in v?v[e]??!1:v[e]=we.test(e)&&!e.includes("-"),ke=new Set(["mjx"]),Pe=new RegExp(`(?:${[...ke].join("|")})-.+`,"g"),z=Object.create(null),I=e=>typeof e=="string"?z[e]??(z[e]=e.replaceAll(Pe,t=>t.replaceAll("-","_"))):e,b=(e,t)=>{let r={};for(let o of Object.keys(e))r[Ee(o,t)]=typeof e[o]=="object"&&!Array.isArray(e[o])?b(e[o],t):I(e[o]);return r},Oe=e=>e.children,je=(e,t)=>typeof e=="function"?e.name==="Fragment"?Oe(t):e(b(t)):m(se,ne(be(e)?t:b(t,e),{component:I(e)})),Ee=(e,t="")=>Ce(t)?e=e==="xlinkHref"||e==="xlink:href"?"href":Se(e):e,Re=je;export{Re as M,Ie as P,de as c,je as d,Oe as h};
