import{e as m,z as W,s as C,w as Z,a as j,u as q,f as F,h as G,i as E,t as A,A as V,l,r as B,v as g,b as f,x as J,k as K,D as Q}from"./web-CBcu1dwP.js";import{n as S,p as ee}from"./all_posts.compile-B-enHPVs.js";import{h as te}from"./routing-BjFlmBxB.js";import{A as re}from"./components-C8pyS6QA.js";function ne(e,t={}){const[n,o]=m();return!t.lazy&&k(e,o),a=>{let s,r;const[,i]=W(a,["fallback"]);if(t.lazy&&k(e,o),(s=n())&&!C.context)return s(i);const[d,u]=m(!C.context);return Z(()=>u(!0)),j(()=>(s=n(),r=d(),q(()=>s&&r?s(i):a.fallback)))}}function k(e,t){e().then(n=>t(()=>n.default))}class oe extends Error{constructor(t){super(t)}}function se(){const e=le(window._hooks.getColorScheme()),t=()=>{const{fromOverride:r,active:i}=window._hooks.getColorScheme();return r?i:void 0},[n,o]=m(t()),a=window._hooks.onColorSchemeChanged(()=>o(t()));F(a);const s=window._hooks.setColorSchemeOverride;return{getOverride:n,set:s,rotate:()=>{const r=e.indexOf(t()),i=e[(r+1)%e.length];s(i)}}}function le(e){return e.override==="dark"||e.override===void 0&&e.browserPreference==="light"?["dark","light",void 0]:[void 0,"light","dark"]}var ie=A('<div class="min-h-screen flex justify-center py-8 px-4 text-text-primary overflow-x-clip"><div class="max-w-xl w-full"><header class="sticky top-5 not-sm:text-xs flex justify-between items-center pb-4 border-b border-border-color mb-8 z-1"><div></div><div class=text-text-secondary></div><div class="flex gap-2 text-text-secondary"></div><div class=text-text-secondary></div></header><h1 class="text-4xl md:text-5xl mb-6 text-text-primary"><div><span></span></div></h1><div class=text-lg></div><div><!$><!/><!$><!/>more:<!$><!/><!$><!/>'),ae=A('<button class=hover:cursor-pointer>colors: <span class="inline-block w-10">');function ke(e){const t=te(),n=j(()=>t.pathname.substring(7));return(()=>{var o=E(ie),a=o.firstChild,s=a.firstChild,r=s.firstChild,i=r.nextSibling,d=i.nextSibling,u=d.nextSibling,v=s.nextSibling,L=v.firstChild,p=L.firstChild,y=v.nextSibling,c=y.nextSibling,M=c.firstChild,[b,I]=g(M.nextSibling),R=b.nextSibling,[$,X]=g(R.nextSibling),H=$.nextSibling,Y=H.nextSibling,[_,D]=g(Y.nextSibling),N=_.nextSibling,[T,U]=g(N.nextSibling);return r.style.setProperty("position","absolute"),r.style.setProperty("background-color","rgb(var(--background-rgb))"),r.style.setProperty("transition","var(--bg-transition)"),r.style.setProperty("height","100%"),r.style.setProperty("width","100%"),r.style.setProperty("transform","scaleY(10) scaleX(5)"),r.style.setProperty("transform-origin","center bottom"),r.style.setProperty("top","0"),r.style.setProperty("z-index","-1"),r.style.setProperty("opacity","0.975"),l(i,f(re,{href:"/",style:{"view-transition-name":"logo"},children:"james karlsson"})),l(d,f(ce,{})),l(u,()=>e.postConfig.date),l(p,()=>e.postConfig.title),l(y,()=>e.children),c.style.setProperty("display","none"),l(c,n,b,I),l(c,()=>S.size,$,X),l(c,()=>ee.get(n()),_,D),l(c,()=>S.get(n()),T,U),J(w=>(w=`title-${n()}`)!=null?p.style.setProperty("view-transition-name",w):p.style.removeProperty("view-transition-name")),o})()}const ce=ne(()=>Promise.resolve({default:()=>{const e=se();return(()=>{var t=E(ae),n=t.firstChild,o=n.nextSibling;return V(t,"click",e?.rotate,!0),l(o,()=>de(e?.getOverride())),B(),t})()}}));function de(e){switch(e){case"dark":return"dark";case"light":return"light";case void 0:return"auto";default:throw new oe(e)}}G(["click"]);var ge=e=>{let t=e.charAt(0);return t!==t.toLowerCase()},ue=/e(r[HRWrv]|[Vawy])|Con|l(e[Tcs]|c)|s(eP|y)|a(t[rt]|u|v)|Of|Ex|f[XYa]|gt|hR|d[Pg]|t[TXYd]|[UZq]/,P=Object.create(null),pe=/[A-Z]/g,xe=e=>P[e]??(P[e]=ue.test(e)?e:e.replaceAll(pe,t=>`-${t.toLowerCase()}`)),me=/^(t(ext$|s)|s[vwy]|g)|^set|tad|ker|p(at|s)|s(to|c$|ca|k)|r(ec|cl)|ew|us|f($|e|s)|cu|n[ei]|l[ty]|[GOP]/,x=Object.create(null),fe=e=>e in x?x[e]??!1:x[e]=me.test(e)&&!e.includes("-"),he=new Set(["mjx"]),ve=new RegExp(`(?:${[...he].join("|")})-.+`,"g"),O=Object.create(null),z=e=>typeof e=="string"?O[e]??(O[e]=e.replaceAll(ve,t=>t.replaceAll("-","_"))):e,h=(e,t)=>{let n={};for(let o of Object.keys(e))n[$e(o,t)]=typeof e[o]=="object"&&!Array.isArray(e[o])?h(e[o],t):z(e[o]);return n},ye=e=>e.children,be=(e,t)=>typeof e=="function"?e.name==="Fragment"?ye(t):e(h(t)):f(Q,K(ge(e)?t:h(t,e),{component:z(e)})),$e=(e,t="")=>fe(t)?e=e==="xlinkHref"||e==="xlink:href"?"href":xe(e):e,Pe=be;export{Pe as M,ke as P,ne as c,be as d,ye as h};
