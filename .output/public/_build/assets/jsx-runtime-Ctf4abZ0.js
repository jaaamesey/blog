import{e as b,A as V,s as j,v as J,a as L,u as K,f as Q,h as ee,i as M,t as R,B as te,l as s,r as re,w as u,b as x,x as oe,y as ne,k as se,D as le}from"./web-DYO1r_n-.js";import{n as E,p as ie}from"./all_posts.compile-CbZ4RSx1.js";import{T as ae}from"./index-CxeZ2ADl.js";import{i as ce,u as de}from"./routing-DrBnyfrK.js";import{A as ge}from"./components-DXy5a4Nx.js";function ue(e,t={}){const[r,o]=b();return!t.lazy&&A(e,o),a=>{let l,i;const[,c]=V(a,["fallback"]);if(t.lazy&&A(e,o),(l=r())&&!j.context)return l(c);const[m,p]=b(!j.context);return J(()=>p(!0)),L(()=>(l=r(),i=m(),K(()=>l&&i?l(c):a.fallback)))}}function A(e,t){e().then(r=>t(()=>r.default))}class pe extends Error{constructor(t){super(t)}}function xe(){const e=me(window._hooks.getColorScheme()),t=()=>{const{fromOverride:i,active:c}=window._hooks.getColorScheme();return i?c:void 0},[r,o]=b(t()),a=window._hooks.onColorSchemeChanged(()=>o(t()));Q(a);const l=window._hooks.setColorSchemeOverride;return{getOverride:r,set:l,rotate:()=>{const i=e.indexOf(t()),c=e[(i+1)%e.length];l(c)}}}function me(e){return e.override==="dark"||e.override===void 0&&e.browserPreference==="light"?["dark","light",void 0]:[void 0,"light","dark"]}const fe="_postBody_1hrkg_1",ye={postBody:fe};var ve=R('<div class="min-h-screen flex justify-center py-8 px-4 text-text-primary overflow-x-clip"><!$><!/><div class="max-w-xl w-full"><header class="sticky top-5 not-sm:text-xs flex justify-between items-center pb-4 border-b border-border-color mb-8 z-1"><div></div><div class=text-text-secondary></div><div class="flex gap-2 text-text-secondary"></div><div class=text-text-secondary></div></header><h1 class="text-4xl md:text-5xl mb-8 text-text-primary"><div><span></span></div></h1><div></div><div><!$><!/><!$><!/>more:<!$><!/><!$><!/>'),he=R('<button class=hover:cursor-pointer>colours: <span class="inline-block w-10">');function Te(e){const t=ce(),r=L(()=>t.pathname.substring(7));return de()("/"),(()=>{var a=M(ve),l=a.firstChild,[i,c]=u(l.nextSibling),m=i.nextSibling,p=m.firstChild,n=p.firstChild,_=n.nextSibling,S=_.nextSibling,T=S.nextSibling,w=p.nextSibling,X=w.firstChild,f=X.firstChild,y=w.nextSibling,d=y.nextSibling,H=d.firstChild,[C,N]=u(H.nextSibling),Y=C.nextSibling,[k,D]=u(Y.nextSibling),U=k.nextSibling,W=U.nextSibling,[P,Z]=u(W.nextSibling),q=P.nextSibling,[F,G]=u(q.nextSibling);return s(a,x(ae,{get children(){return e.postConfig.title}}),i,c),n.style.setProperty("position","absolute"),n.style.setProperty("background-color","rgb(var(--background-rgb))"),n.style.setProperty("transition","var(--bg-transition)"),n.style.setProperty("height","100%"),n.style.setProperty("width","100%"),n.style.setProperty("transform","scaleY(10) scaleX(5)"),n.style.setProperty("transform-origin","center bottom"),n.style.setProperty("top","0"),n.style.setProperty("z-index","-1"),n.style.setProperty("opacity","0.975"),s(_,x(ge,{href:"/",style:{"view-transition-name":"logo"},children:"james karlsson"})),s(S,x(be,{})),s(T,()=>e.postConfig.date),s(f,()=>e.postConfig.title),s(y,()=>e.children),d.style.setProperty("display","none"),s(d,r,C,N),s(d,()=>E.size,k,D),s(d,()=>ie.get(r()),P,Z),s(d,()=>E.get(r()),F,G),oe(g=>{var v=`title-${r()}`,O=`text-lg flex flex-col gap-4 mb-20 ${ye.postBody}`;return v!==g.e&&((g.e=v)!=null?f.style.setProperty("view-transition-name",v):f.style.removeProperty("view-transition-name")),O!==g.t&&ne(y,g.t=O),g},{e:void 0,t:void 0}),a})()}const be=ue(()=>Promise.resolve({default:()=>{const e=xe();return(()=>{var t=M(he),r=t.firstChild,o=r.nextSibling;return te(t,"click",e?.rotate,!0),s(o,()=>$e(e?.getOverride())),re(),t})()}}));function $e(e){switch(e){case"dark":return"dark";case"light":return"light";case void 0:return"auto";default:throw new pe(e)}}ee(["click"]);var _e=e=>{let t=e.charAt(0);return t!==t.toLowerCase()},Se=/e(r[HRWrv]|[Vawy])|Con|l(e[Tcs]|c)|s(eP|y)|a(t[rt]|u|v)|Of|Ex|f[XYa]|gt|hR|d[Pg]|t[TXYd]|[UZq]/,z=Object.create(null),we=/[A-Z]/g,Ce=e=>z[e]??(z[e]=Se.test(e)?e:e.replaceAll(we,t=>`-${t.toLowerCase()}`)),ke=/^(t(ext$|s)|s[vwy]|g)|^set|tad|ker|p(at|s)|s(to|c$|ca|k)|r(ec|cl)|ew|us|f($|e|s)|cu|n[ei]|l[ty]|[GOP]/,h=Object.create(null),Pe=e=>e in h?h[e]??!1:h[e]=ke.test(e)&&!e.includes("-"),Oe=new Set(["mjx"]),je=new RegExp(`(?:${[...Oe].join("|")})-.+`,"g"),B=Object.create(null),I=e=>typeof e=="string"?B[e]??(B[e]=e.replaceAll(je,t=>t.replaceAll("-","_"))):e,$=(e,t)=>{let r={};for(let o of Object.keys(e))r[ze(o,t)]=typeof e[o]=="object"&&!Array.isArray(e[o])?$(e[o],t):I(e[o]);return r},Ee=e=>e.children,Ae=(e,t)=>typeof e=="function"?e.name==="Fragment"?Ee(t):e($(t)):x(le,se(_e(e)?t:$(t,e),{component:I(e)})),ze=(e,t="")=>Pe(t)?e=e==="xlinkHref"||e==="xlink:href"?"href":Ce(e):e,Xe=Ae;export{Xe as M,Te as P,ue as c,Ae as d,Ee as h};
